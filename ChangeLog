2010-07-22  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* src/calendar/lightning/content/lightning-calendar-properties.js
	(onLoad): added ACL code.

	* src/calendar/base/src/calUtils.js: (isCalendarWritable) added
	code that makes use of the CalDAV ACL mgr...

	* src/calendar/base/content/dialogs/calendar-event-dialog.js:
	(updateCalendar): added code to load the acl entry for the
	calendar item being editted, from sogo-connector acl code.
	(saveItem): check whether the item is its own parent in order to
	decide whether to set the item's organizer or not.

	* src/calendar/base/content/calendar-ui-utils.js:
	(appendCalendarItems) added code to check whether the list of
	calendars only includes calendars where the user can add events,
	from sogo-connector acl code.

	* src/calendar/acl/caldav-acl-manager/CalDAVACLManager.js:
	migrated from sogo-connector.

2010-07-21  Wolfgang Sourdeau  <wsourdeau@inverse.ca>

	* src/calendar/providers/caldav/calDavCalendar.js: (getProperty):
	fixed a crash by returning the first owner's identity rather than
	a copy of it when "imip.identity" is queried.
	(*) "lettified" the whole module.

